# ğŸ¤– æ™ºèƒ½AIåˆ¤æ–­ v2.0 - å®Œæ•´è¯´æ˜

## ğŸ“š å¿«é€Ÿå¯¼èˆª

| æ–‡æ¡£ | è¯´æ˜ | é€‚åˆäººç¾¤ |
|------|------|---------|
| **æœ¬æ–‡æ¡£** | å®Œæ•´æŠ€æœ¯è¯´æ˜ | å¼€å‘äººå‘˜ |
| [æ™ºèƒ½AIåˆ¤æ–­-ä½¿ç”¨æŒ‡å—.md](./æ™ºèƒ½AIåˆ¤æ–­-ä½¿ç”¨æŒ‡å—.md) | è¯¦ç»†ä½¿ç”¨æ•™ç¨‹ | æ‰€æœ‰ç”¨æˆ· |
| [AIåˆ¤æ–­æ–°æµç¨‹è®¾è®¡.md](./AIåˆ¤æ–­æ–°æµç¨‹è®¾è®¡.md) | æŠ€æœ¯è®¾è®¡æ–‡æ¡£ | å¼€å‘äººå‘˜ |
| [æµ‹è¯•æ–°AIåˆ¤æ–­æµç¨‹.md](./æµ‹è¯•æ–°AIåˆ¤æ–­æµç¨‹.md) | æµ‹è¯•æŒ‡å— | æµ‹è¯•äººå‘˜ |
| [AIåˆ¤æ–­åŠŸèƒ½-é‡å¤§æ›´æ–°è¯´æ˜.md](./AIåˆ¤æ–­åŠŸèƒ½-é‡å¤§æ›´æ–°è¯´æ˜.md) | æ›´æ–°è¯´æ˜ | æ‰€æœ‰ç”¨æˆ· |

---

## ğŸ¯ æ ¸å¿ƒç‰¹æ€§

### 1. é»‘åå•ä¼˜å…ˆæ£€æŸ¥
- âœ… æ•°æ®åŒ¹é…é»‘åå• â†’ ç›´æ¥æ ‡è®°ä½é£é™©ï¼Œ**è·³è¿‡AIè°ƒç”¨**
- âœ… æˆæœ¬ï¼š**$0**
- âœ… é€Ÿåº¦ï¼š**<1ms/æ¡**

### 2. AIæ™ºèƒ½åˆ¤æ–­
- âœ… ä»…å¯¹æœªåŒ¹é…é»‘åå•çš„æ•°æ®è°ƒç”¨AI
- âœ… å‡†ç¡®ç‡ï¼š**90-95%**ï¼ˆGPT-4oï¼‰
- âœ… æˆæœ¬ï¼š**$0.004/æ¡**

### 3. è‡ªåŠ¨å­¦ä¹ æœºåˆ¶
- âœ… AIåˆ¤å®šä¸º"ä¸ç›¸å…³"çš„æ•°æ®çš„åˆ¶é€ å•†**è‡ªåŠ¨åŠ å…¥é»‘åå•**
- âœ… é»‘åå•è¶Šç”¨è¶Šä¸°å¯Œ
- âœ… AIè°ƒç”¨è¶Šæ¥è¶Šå°‘

### 4. æˆæœ¬æŒç»­é™ä½
```
ç¬¬1æ¬¡åˆ¤æ–­ï¼šèŠ‚çœ20%
ç¬¬2æ¬¡åˆ¤æ–­ï¼šèŠ‚çœ40%
ç¬¬3æ¬¡åˆ¤æ–­ï¼šèŠ‚çœ60%
ç¬¬5æ¬¡åˆ¤æ–­ï¼šèŠ‚çœ80%
```

---

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### ç³»ç»Ÿæ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å‰ç«¯ (Vue.js)                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  SmartAIJudge.vue                                       â”‚
â”‚  â”œâ”€ é…ç½®é¢æ¿ï¼ˆå›½å®¶/ç±»å‹/é£é™©/æ•°é‡ï¼‰                      â”‚
â”‚  â”œâ”€ é»‘åå•ç®¡ç†ï¼ˆæŸ¥çœ‹/æ·»åŠ /åˆ é™¤ï¼‰                        â”‚
â”‚  â””â”€ é¢„è§ˆæ¨¡æ€æ¡†ï¼ˆé»‘åå•è¿‡æ»¤/AIä¿ç•™/AIé™çº§ï¼‰             â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚ HTTP REST API
                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  åç«¯ (Spring Boot)                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  DeviceAIJudgeController                                â”‚
â”‚  â”œâ”€ POST /preview-with-blacklist                        â”‚
â”‚  â”œâ”€ POST /execute-with-blacklist                        â”‚
â”‚  â””â”€ GET  /blacklist-keywords                            â”‚
â”‚                     â†“                                    â”‚
â”‚  AISmartAuditService                                    â”‚
â”‚  â”œâ”€ previewWithBlacklistCheck()                         â”‚
â”‚  â”‚   â”œâ”€ 1. è·å–æ•°æ®                                     â”‚
â”‚  â”‚   â”œâ”€ 2. è·å–é»‘åå•                                   â”‚
â”‚  â”‚   â”œâ”€ 3. é€æ¡æ£€æŸ¥                                     â”‚
â”‚  â”‚   â”‚   â”œâ”€ é»‘åå•é¢„æ£€æŸ¥                               â”‚
â”‚  â”‚   â”‚   â””â”€ AIåˆ¤æ–­ï¼ˆæœªåŒ¹é…çš„ï¼‰                         â”‚
â”‚  â”‚   â””â”€ 4. è¿”å›é¢„è§ˆç»“æœ                                â”‚
â”‚  â”‚                                                       â”‚
â”‚  â””â”€ executeWithBlacklistUpdate()                        â”‚
â”‚      â”œâ”€ 1. æ›´æ–°é£é™©ç­‰çº§å’Œå¤‡æ³¨                           â”‚
â”‚      â””â”€ 2. æ·»åŠ æ–°é»‘åå•å…³é”®è¯                           â”‚
â”‚                     â†“                                    â”‚
â”‚  DeviceMatchKeywordsService                             â”‚
â”‚  â”œâ”€ checkBlacklistMatch()  # æ£€æŸ¥æ˜¯å¦åŒ¹é…é»‘åå•         â”‚
â”‚  â””â”€ smartAddBlacklistKeywords()  # æ™ºèƒ½æ·»åŠ é»‘åå•       â”‚
â”‚                     â†“                                    â”‚
â”‚  AIClassificationService                                â”‚
â”‚  â””â”€ classifySkinDevice()  # è°ƒç”¨OpenAI API             â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚ JPA/Hibernate
                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æ•°æ®åº“ (MySQL)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  t_device_510k                                          â”‚
â”‚  t_device_registration                                  â”‚
â”‚  t_device_recall                                        â”‚
â”‚  t_device_event                                         â”‚
â”‚  t_guidance_document                                    â”‚
â”‚  t_customs_case                                         â”‚
â”‚  â”œâ”€ risk_level (HIGH/MEDIUM/LOW)                        â”‚
â”‚  â””â”€ remark (AIåˆ¤æ–­ç»“æœ/é»‘åå•åŒ¹é…ä¿¡æ¯)                  â”‚
â”‚                                                          â”‚
â”‚  t_device_match_keywords                                â”‚
â”‚  â”œâ”€ keyword                                             â”‚
â”‚  â”œâ”€ keyword_type (NORMAL/BLACKLIST)                     â”‚
â”‚  â””â”€ enabled                                             â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ•°æ®æµå‘

```
ç”¨æˆ·æ“ä½œ 
  â†’ å‰ç«¯ç»„ä»¶(SmartAIJudge.vue) 
  â†’ APIè¯·æ±‚ 
  â†’ Controlleræ¥æ”¶ 
  â†’ Serviceå¤„ç†
    â”œâ”€ é»‘åå•æ£€æŸ¥ (DeviceMatchKeywordsService)
    â””â”€ AIåˆ¤æ–­ (AIClassificationService â†’ OpenAI API)
  â†’ æ•°æ®åº“æ›´æ–°
  â†’ è¿”å›ç»“æœ
  â†’ å‰ç«¯æ˜¾ç¤º
```

---

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°çš„æ•°æ®ç±»å‹

å¦‚æœè¦æ”¯æŒæ–°çš„æ•°æ®ç±»å‹ï¼ˆå¦‚`NewDeviceType`ï¼‰ï¼Œéœ€è¦ä¿®æ”¹ï¼š

#### 1. AISmartAuditService.java
```java
// åœ¨getDataByTypeAndConditionsæ–¹æ³•ä¸­æ·»åŠ 
case "NewDeviceType":
    return newDeviceTypeRepository.findByConditions(...);
```

#### 2. updateRiskLevelByIdæ–¹æ³•
```java
case "NewDeviceType":
    NewDeviceType entity = repository.findById(id).orElse(null);
    if (entity != null) {
        entity.setRiskLevel(RiskLevel.valueOf(riskLevel));
        entity.setRemark(remark);
        repository.save(entity);
    }
    break;
```

#### 3. extractDeviceDataæ–¹æ³•
```java
case "NewDeviceType":
    NewDeviceType newType = (NewDeviceType) data;
    map.put("id", newType.getId());
    map.put("deviceName", newType.getDeviceName());
    map.put("manufacturer", newType.getManufacturer());
    return map;
```

#### 4. SmartAIJudge.vue
```vue
<a-select-option value="NewDeviceType">æ–°ç±»å‹åç§°</a-select-option>
```

### è‡ªå®šä¹‰é»‘åå•æ£€æŸ¥é€»è¾‘

å¦‚æœéœ€è¦æ›´å¤æ‚çš„é»‘åå•åŒ¹é…é€»è¾‘ï¼Œä¿®æ”¹ï¼š

#### DeviceMatchKeywordsService.java
```java
public String checkBlacklistMatchAdvanced(String... fields) {
    // è‡ªå®šä¹‰åŒ¹é…é€»è¾‘
    // ä¾‹å¦‚ï¼šæ”¯æŒæ­£åˆ™è¡¨è¾¾å¼ã€æ¨¡ç³ŠåŒ¹é…ç­‰
}
```

### è°ƒæ•´AIæç¤ºè¯

å¦‚æœéœ€è¦ä¼˜åŒ–AIåˆ¤æ–­å‡†ç¡®ç‡ï¼Œä¿®æ”¹ï¼š

#### AIClassificationService.java
```java
private String buildPrompt(Map<String, Object> deviceData) {
    // è‡ªå®šä¹‰AIæç¤ºè¯
    // æ·»åŠ æ›´å¤šä¸Šä¸‹æ–‡ä¿¡æ¯
    // è°ƒæ•´åˆ¤æ–­æ ‡å‡†
}
```

---

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–å»ºè®®

### 1. æ•°æ®åº“ç´¢å¼•
```sql
-- ä¸ºå¸¸ç”¨æŸ¥è¯¢å­—æ®µæ·»åŠ ç´¢å¼•
CREATE INDEX idx_risk_level ON t_device_510k(risk_level);
CREATE INDEX idx_jd_country ON t_device_510k(jd_country);
CREATE INDEX idx_keyword_type ON t_device_match_keywords(keyword_type, enabled);
```

### 2. æ‰¹é‡å¤„ç†
```java
// ä½¿ç”¨æ‰¹é‡æ›´æ–°å‡å°‘æ•°æ®åº“å¾€è¿”
@Transactional
public void batchUpdate(List<AuditItem> items) {
    // åˆ†ç»„åæ‰¹é‡æ›´æ–°
}
```

### 3. ç¼“å­˜é»‘åå•
```java
@Cacheable("blacklistKeywords")
public List<String> getBlacklistKeywordStrings() {
    // Spring Cacheç¼“å­˜é»‘åå•
}
```

### 4. å¼‚æ­¥å¤„ç†
```java
@Async
public CompletableFuture<SmartAuditResult> asyncPreview(...) {
    // å¤§é‡æ•°æ®å¼‚æ­¥å¤„ç†
}
```

---

## ğŸ”’ å®‰å…¨è€ƒè™‘

### 1. APIå¯†é’¥ä¿æŠ¤
- OpenAI API Key å­˜å‚¨åœ¨æœåŠ¡å™¨ç¯å¢ƒå˜é‡
- ä¸è¦ç¡¬ç¼–ç åœ¨ä»£ç ä¸­
- å®šæœŸè½®æ¢API Key

### 2. æ•°æ®è®¿é—®æ§åˆ¶
- æ·»åŠ ç”¨æˆ·æƒé™éªŒè¯
- é™åˆ¶AIåˆ¤æ–­æ“ä½œçš„é¢‘ç‡
- è®°å½•æ“ä½œå®¡è®¡æ—¥å¿—

### 3. è¾“å…¥éªŒè¯
```java
// å‚æ•°æ ¡éªŒ
if (limit != null && limit > 1000) {
    throw new IllegalArgumentException("å•æ¬¡åˆ¤æ–­æ•°é‡ä¸èƒ½è¶…è¿‡1000æ¡");
}
```

---

## ğŸ§ª å•å…ƒæµ‹è¯•

### AISmartAuditServiceæµ‹è¯•
```java
@Test
public void testPreviewWithBlacklistCheck() {
    SmartAuditResult result = aiSmartAuditService.previewWithBlacklistCheck(
        "US", Arrays.asList("Device510K"), "HIGH", 10, false
    );
    
    assertNotNull(result);
    assertTrue(result.isSuccess());
    assertEquals(10, result.getTotal());
}
```

### DeviceMatchKeywordsServiceæµ‹è¯•
```java
@Test
public void testCheckBlacklistMatch() {
    String result = service.checkBlacklistMatch("Acme Corp Medical Device");
    assertEquals("Acme Corp", result);  // å‡è®¾"Acme Corp"åœ¨é»‘åå•ä¸­
}
```

---

## ğŸ“ æ›´æ–°æ—¥å¿—

### v2.0.0 (2025-10-10)

#### æ–°å¢åŠŸèƒ½
- âœ… é»‘åå•ä¼˜å…ˆæ£€æŸ¥æœºåˆ¶
- âœ… è‡ªåŠ¨é»‘åå•å­¦ä¹ 
- âœ… æ™ºèƒ½AIåˆ¤æ–­ç»„ä»¶(SmartAIJudge.vue)
- âœ… ä¸‰æ ‡ç­¾é¡µé¢„è§ˆï¼ˆé»‘åå•/ä¿ç•™/é™çº§ï¼‰
- âœ… æˆæœ¬é¢„ä¼°æ˜¾ç¤º
- âœ… å»ºè®®é»‘åå•å¯è§†åŒ–

#### æ”¹è¿›åŠŸèƒ½
- âœ… AuditItemæ–°å¢é»‘åå•ç›¸å…³å­—æ®µ
- âœ… SmartAuditResultæ–°å¢é»‘åå•ç»Ÿè®¡
- âœ… DeviceMatchKeywordsServiceæ–°å¢æ‰¹é‡æ£€æŸ¥æ–¹æ³•
- âœ… AISmartAuditServiceæ–°å¢é»‘åå•é¢„æ£€æŸ¥æµç¨‹

#### APIå˜æ›´
- âœ… æ–°å¢ `POST /preview-with-blacklist`
- âœ… æ–°å¢ `POST /execute-with-blacklist`
- âœ… æ–°å¢ `GET /blacklist-keywords`

#### æ€§èƒ½ä¼˜åŒ–
- âœ… é»‘åå•æ£€æŸ¥é€Ÿåº¦ <1ms/æ¡
- âœ… AIè°ƒç”¨å‡å°‘50-80%
- âœ… æˆæœ¬èŠ‚çœ50-80%

#### ç ´åæ€§å˜æ›´
- âš ï¸ DeviceData.vueçš„"ç»Ÿä¸€å…³é”®è¯æœç´¢"è¢«æ›¿æ¢ä¸º"æ™ºèƒ½AIåˆ¤æ–­"
- âš ï¸ æ—§çš„å…³é”®è¯æœç´¢åŠŸèƒ½å·²æ³¨é‡Šï¼ˆå¯æ¢å¤ï¼‰

---

## ğŸ”„ è¿ç§»æŒ‡å—

### ä»æ—§ç‰ˆæœ¬è¿ç§»

#### 1. å¤‡ä»½æ•°æ®
```bash
# å¤‡ä»½æ•°æ®åº“
mysqldump -u root -p certification_monitor > backup_before_v2.sql

# å¤‡ä»½é»‘åå•é…ç½®
SELECT * FROM t_device_match_keywords 
WHERE keyword_type = 'BLACKLIST' 
INTO OUTFILE '/tmp/blacklist_backup.csv';
```

#### 2. æ›´æ–°ä»£ç 
```bash
git pull origin main
cd spring-boot-backend
mvn clean install
```

#### 3. é‡å¯æœåŠ¡
```bash
# åœæ­¢æ—§æœåŠ¡
taskkill /F /IM java.exe

# å¯åŠ¨æ–°æœåŠ¡
mvn spring-boot:run
```

#### 4. éªŒè¯æ›´æ–°
```bash
# è¿è¡Œæµ‹è¯•è„šæœ¬
.\å¿«é€Ÿæµ‹è¯•-AIåˆ¤æ–­.ps1
```

### å…¼å®¹æ€§è¯´æ˜

- âœ… æ•°æ®åº“å‘åå…¼å®¹ï¼ˆremarkå­—æ®µå·²å­˜åœ¨ï¼‰
- âœ… APIå‘åå…¼å®¹ï¼ˆæ—§æ¥å£ä»ç„¶å¯ç”¨ï¼‰
- âœ… å‰ç«¯å‘åå…¼å®¹ï¼ˆå¯æ¢å¤æ—§çš„å…³é”®è¯æœç´¢ï¼‰

---

## ğŸ’¼ å®é™…æ¡ˆä¾‹

### æ¡ˆä¾‹1ï¼šæ—¥å¸¸æ•°æ®æ¸…æ´—

**èƒŒæ™¯**ï¼šæ¯å¤©æ–°å¢100æ¡è®¾å¤‡æ•°æ®ï¼Œéœ€è¦åˆ¤æ–­æ˜¯å¦ä¸æµ‹è‚¤ä»ªç›¸å…³

**ä½¿ç”¨æ–°åŠŸèƒ½**ï¼š
1. é…ç½®ï¼šç¾å›½ã€é«˜é£é™©ã€å…¨éƒ¨ç±»å‹ã€å…¨éƒ¨æ•°æ®
2. ç¬¬1å¤©ï¼šé»‘åå•è¿‡æ»¤10æ¡ï¼ŒAIåˆ¤æ–­90æ¡ï¼Œæ–°å¢30ä¸ªé»‘åå•
3. ç¬¬2å¤©ï¼šé»‘åå•è¿‡æ»¤40æ¡ï¼ŒAIåˆ¤æ–­60æ¡ï¼Œæ–°å¢20ä¸ªé»‘åå•
4. ç¬¬3å¤©ï¼šé»‘åå•è¿‡æ»¤60æ¡ï¼ŒAIåˆ¤æ–­40æ¡ï¼Œæ–°å¢10ä¸ªé»‘åå•
5. ç¬¬7å¤©ï¼šé»‘åå•è¿‡æ»¤85æ¡ï¼ŒAIåˆ¤æ–­15æ¡

**æˆæœ¬å¯¹æ¯”**ï¼š
- æ—§æ–¹å¼ï¼š100æ¡/å¤© Ã— $0.004 Ã— 30å¤© = **$12.00/æœˆ**
- æ–°æ–¹å¼ï¼šå¹³å‡30æ¡/å¤© Ã— $0.004 Ã— 30å¤© = **$3.60/æœˆ**
- èŠ‚çœï¼š**$8.40/æœˆï¼ˆ70%ï¼‰**

### æ¡ˆä¾‹2ï¼šå†å²æ•°æ®æ¸…æ´—

**èƒŒæ™¯**ï¼šæ¸…æ´—5000æ¡å†å²é«˜é£é™©æ•°æ®

**ä½¿ç”¨æ–°åŠŸèƒ½**ï¼š
1. åˆ†5æ‰¹æ¬¡ï¼Œæ¯æ‰¹1000æ¡
2. ç¬¬1æ‰¹ï¼šé»‘åå•è¿‡æ»¤100æ¡ï¼ŒAIåˆ¤æ–­900æ¡ï¼Œæ–°å¢300ä¸ªé»‘åå•
3. ç¬¬2æ‰¹ï¼šé»‘åå•è¿‡æ»¤400æ¡ï¼ŒAIåˆ¤æ–­600æ¡ï¼Œæ–°å¢200ä¸ªé»‘åå•
4. ç¬¬3æ‰¹ï¼šé»‘åå•è¿‡æ»¤600æ¡ï¼ŒAIåˆ¤æ–­400æ¡ï¼Œæ–°å¢100ä¸ªé»‘åå•
5. ç¬¬4æ‰¹ï¼šé»‘åå•è¿‡æ»¤750æ¡ï¼ŒAIåˆ¤æ–­250æ¡ï¼Œæ–°å¢50ä¸ªé»‘åå•
6. ç¬¬5æ‰¹ï¼šé»‘åå•è¿‡æ»¤850æ¡ï¼ŒAIåˆ¤æ–­150æ¡ï¼Œæ–°å¢20ä¸ªé»‘åå•

**æˆæœ¬å¯¹æ¯”**ï¼š
- æ—§æ–¹å¼ï¼š5000æ¡ Ã— $0.004 = **$20.00**
- æ–°æ–¹å¼ï¼š2300æ¡ Ã— $0.004 = **$9.20**
- èŠ‚çœï¼š**$10.80ï¼ˆ54%ï¼‰**

---

## ğŸ“ æœ€ä½³å®è·µ

### 1. åˆå§‹åŒ–é»‘åå•

**æ‰‹åŠ¨æ·»åŠ å·²çŸ¥ä¸ç›¸å…³çš„åˆ¶é€ å•†**ï¼š
```sql
INSERT INTO t_device_match_keywords (keyword, keyword_type, enabled) 
VALUES 
    ('Blood Pressure', 'BLACKLIST', true),
    ('Glucose Monitor', 'BLACKLIST', true),
    ('Cardiac Device', 'BLACKLIST', true);
```

### 2. åˆ†æ‰¹åˆ¤æ–­å¤§é‡æ•°æ®

ä¸è¦ä¸€æ¬¡åˆ¤æ–­è¶…è¿‡500æ¡æ•°æ®ï¼Œå»ºè®®ï¼š
- æµ‹è¯•ï¼š10-50æ¡
- æ—¥å¸¸ï¼š100-200æ¡
- æ‰¹é‡ï¼šåˆ†æ‰¹ï¼Œæ¯æ‰¹500æ¡

### 3. å®šæœŸå®¡æŸ¥é»‘åå•

```sql
-- æŸ¥çœ‹æœ€è¿‘æ·»åŠ çš„é»‘åå•
SELECT keyword, created_time 
FROM t_device_match_keywords 
WHERE keyword_type = 'BLACKLIST' 
ORDER BY created_time DESC 
LIMIT 20;

-- åˆ é™¤è¯¯åŠ çš„é»‘åå•
DELETE FROM t_device_match_keywords 
WHERE keyword_type = 'BLACKLIST' 
AND keyword = 'è¯¯åŠ çš„å…³é”®è¯';
```

### 4. ç›‘æ§æˆæœ¬

åˆ›å»ºæˆæœ¬ç›‘æ§è§†å›¾ï¼š
```sql
-- AIåˆ¤æ–­æˆæœ¬ç»Ÿè®¡
SELECT 
    DATE(update_time) as date,
    COUNT(*) as total_judged,
    SUM(CASE WHEN remark LIKE 'é»‘åå•%' THEN 1 ELSE 0 END) as blacklist_filtered,
    SUM(CASE WHEN remark LIKE 'AIåˆ¤æ–­%' THEN 1 ELSE 0 END) as ai_judged,
    ROUND(SUM(CASE WHEN remark LIKE 'AIåˆ¤æ–­%' THEN 1 ELSE 0 END) * 0.004, 2) as cost_usd
FROM t_device_510k 
WHERE remark IS NOT NULL 
GROUP BY DATE(update_time) 
ORDER BY date DESC;
```

---

## ğŸ› å·²çŸ¥é—®é¢˜

### 1. é»‘åå•è¿‡äºå®½æ³›

**é—®é¢˜**ï¼šæ·»åŠ äº†"Inc"ã€"Corp"ç­‰å¸¸è§è¯å¯¼è‡´è¿‡åº¦è¿‡æ»¤

**è§£å†³**ï¼š
- åˆ é™¤è¿‡äºå®½æ³›çš„é»‘åå•
- ä½¿ç”¨å…·ä½“çš„å…¬å¸å…¨å
- å®šæœŸå®¡æŸ¥é»‘åå•

### 2. AIåˆ¤æ–­é€Ÿåº¦æ…¢

**é—®é¢˜**ï¼šå¤§é‡æ•°æ®åˆ¤æ–­è€—æ—¶è¾ƒé•¿

**è§£å†³**ï¼š
- ä½¿ç”¨"æŒ‡å®šæ•°é‡"æ¨¡å¼
- åˆ†æ‰¹åˆ¤æ–­
- è°ƒæ•´APIè°ƒç”¨é—´éš”

### 3. åˆ¶é€ å•†åç§°ä¸ä¸€è‡´

**é—®é¢˜**ï¼š"ACME CORP" vs "Acme Corporation" vs "Acme Corp."

**è§£å†³**ï¼š
- åœ¨æ·»åŠ é»‘åå•å‰è§„èŒƒåŒ–åç§°
- ä½¿ç”¨æ¨¡ç³ŠåŒ¹é…
- æ·»åŠ å¤šä¸ªå˜ä½“åˆ°é»‘åå•

---

## ğŸ“ æ•…éšœæ’æŸ¥

### é—®é¢˜1ï¼š404 Not Found

```
é”™è¯¯ï¼šGET /device-data/ai-judge/blacklist-keywords è¿”å›404
```

**å¯èƒ½åŸå› **ï¼š
- åç«¯æœªå¯åŠ¨
- Controllerè·¯å¾„æ˜ å°„é”™è¯¯
- ä¾èµ–æ³¨å…¥å¤±è´¥

**è§£å†³æ­¥éª¤**ï¼š
1. æ£€æŸ¥åç«¯æ—¥å¿—
2. ç¡®è®¤DeviceAIJudgeControlleræ­£ç¡®åŠ è½½
3. é‡å¯åç«¯æœåŠ¡

### é—®é¢˜2ï¼š401 API Keyé”™è¯¯

```
é”™è¯¯ï¼šOpenAI APIè°ƒç”¨å¤±è´¥: 401 - Incorrect API key
```

**è§£å†³**ï¼š
```yaml
# åœ¨application.ymlä¸­é…ç½®æ­£ç¡®çš„API Key
openai:
  api:
    key: sk-your-real-api-key  # æ›¿æ¢ä¸ºçœŸå®çš„key
```

### é—®é¢˜3ï¼šé»‘åå•ä¸ç”Ÿæ•ˆ

```
é—®é¢˜ï¼šé»‘åå•å…³é”®è¯å·²æ·»åŠ ï¼Œä½†æ•°æ®ä»ç„¶è¢«AIåˆ¤æ–­
```

**æ£€æŸ¥**ï¼š
```sql
-- ç¡®è®¤é»‘åå•æ˜¯å¦å¯ç”¨
SELECT * FROM t_device_match_keywords 
WHERE keyword_type = 'BLACKLIST' AND enabled = true;

-- æ£€æŸ¥æ•°æ®æ˜¯å¦çœŸçš„åŒ¹é…é»‘åå•
SELECT device_name, manufacturer 
FROM t_device_510k 
WHERE device_name LIKE '%é»‘åå•å…³é”®è¯%' 
   OR manufacturer LIKE '%é»‘åå•å…³é”®è¯%';
```

---

## ğŸ é™„åŠ åŠŸèƒ½

### 1. å¯¼å‡ºåˆ¤æ–­æŠ¥å‘Š

```javascript
// å‰ç«¯å®ç°
const exportJudgeReport = () => {
  const csv = previewData.auditItems.map(item => {
    return [
      item.entityType,
      item.deviceName,
      item.manufacturer,
      item.blacklistMatched ? 'é»‘åå•è¿‡æ»¤' : 'AIåˆ¤æ–­',
      item.relatedToSkinDevice ? 'ä¿ç•™' : 'é™çº§',
      item.reason
    ].join(',')
  }).join('\n')
  
  // ä¸‹è½½CSVæ–‡ä»¶
  downloadCSV(csv, 'ai-judge-report.csv')
}
```

### 2. å®šæ—¶è‡ªåŠ¨åˆ¤æ–­

```java
// åç«¯å®šæ—¶ä»»åŠ¡
@Scheduled(cron = "0 0 2 * * ?")  // æ¯å¤©å‡Œæ™¨2ç‚¹æ‰§è¡Œ
public void autoJudgeNewData() {
    log.info("å¼€å§‹å®šæ—¶AIåˆ¤æ–­...");
    
    SmartAuditResult result = aiSmartAuditService.previewWithBlacklistCheck(
        null,  // æ‰€æœ‰å›½å®¶
        null,  // æ‰€æœ‰ç±»å‹
        "MEDIUM",  // ä¸­é£é™©æ•°æ®
        null,  // å…¨éƒ¨æ•°æ®
        true
    );
    
    if (result.isSuccess()) {
        // è‡ªåŠ¨æ‰§è¡Œï¼ˆæ— éœ€ç”¨æˆ·ç¡®è®¤ï¼‰
        aiSmartAuditService.executeWithBlacklistUpdate(
            result.getAuditItems(),
            extractSuggestedBlacklist(result)
        );
    }
}
```

### 3. é»‘åå•å¯¼å…¥å¯¼å‡º

```javascript
// å¯¼å‡ºé»‘åå•
const exportBlacklist = () => {
  const content = blacklistKeywords.value.join('\n')
  download(content, 'blacklist.txt')
}

// å¯¼å…¥é»‘åå•
const importBlacklist = (file) => {
  const reader = new FileReader()
  reader.onload = (e) => {
    const keywords = e.target.result.split('\n').filter(k => k.trim())
    blacklistKeywords.value.push(...keywords)
    saveBlacklistToBackend()
  }
  reader.readAsText(file)
}
```

---

## ğŸŒŸ æœªæ¥è§„åˆ’

### çŸ­æœŸï¼ˆ1-2å‘¨ï¼‰
- [ ] æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼é»‘åå•
- [ ] æ‰¹é‡å¯¼å…¥å¯¼å‡ºé»‘åå•
- [ ] AIåˆ¤æ–­å†å²è®°å½•æŸ¥è¯¢
- [ ] æˆæœ¬ç»Ÿè®¡ä»ªè¡¨æ¿

### ä¸­æœŸï¼ˆ1-2æœˆï¼‰
- [ ] å¼‚æ­¥å¤§æ‰¹é‡åˆ¤æ–­
- [ ] å®šæ—¶è‡ªåŠ¨åˆ¤æ–­ä»»åŠ¡
- [ ] é»‘åå•åˆ†çº§ï¼ˆå…¨å±€/ä¸´æ—¶ï¼‰
- [ ] AIåˆ¤æ–­ç»“æœç¼“å­˜

### é•¿æœŸï¼ˆ3-6æœˆï¼‰
- [ ] æœºå™¨å­¦ä¹ ä¼˜åŒ–é»‘åå•
- [ ] å¤šæ¨¡å‹æ”¯æŒï¼ˆClaude/Geminiï¼‰
- [ ] è‡ªå®šä¹‰åˆ¤æ–­è§„åˆ™
- [ ] åˆ¤æ–­è´¨é‡åé¦ˆæœºåˆ¶

---

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‚¨ä½¿ç”¨æ™ºèƒ½AIåˆ¤æ–­åŠŸèƒ½ï¼

å¦‚æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿åé¦ˆã€‚

---

**ç‰ˆæœ¬**ï¼šv2.0.0  
**æ›´æ–°æ—¥æœŸ**ï¼š2025-10-10  
**ä½œè€…**ï¼šAI Coding Assistant  
**æ–‡æ¡£**ï¼šå®Œæ•´æŠ€æœ¯è¯´æ˜

